<!DOCTYPE html>
<html>
  <head>
    <title>Making Dashboards in R Markdown</title>
    <meta charset="utf-8">
    <meta name="author" content="Alison Hill" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/dygraphs/dygraph.css" rel="stylesheet" />
    <script src="libs/dygraphs/dygraph-combined.js"></script>
    <script src="libs/dygraphs/shapes.js"></script>
    <script src="libs/moment/moment.js"></script>
    <script src="libs/moment-timezone/moment-timezone-with-data.js"></script>
    <script src="libs/moment-fquarter/moment-fquarter.min.js"></script>
    <script src="libs/dygraphs-binding/dygraphs.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.6.1/js/all.js" integrity="sha384-R5JkiUweZpJjELPWqttAYmYM1P3SNEJRM6ecTQF05pFFtxmCO+Y1CiUhvuDzgSVZ" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/gbbo.css" type="text/css" />
    <link rel="stylesheet" href="css/fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




layout: true
  
&lt;div class="my-footer"&gt;&lt;span&gt;bit.ly/flexdashboard-rsconf19&lt;/span&gt;&lt;/div&gt;

&lt;!-- this adds the link footer to all slides, depends on my-footer class in css--&gt;

---
name: flexdashboard-title
background-image: url(img/fer-gomez-1164907-unsplash.jpg)
background-size: cover
class: inverse

# Meet flexdashboard

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

### .fancy[Making Dashboards in R Markdown]

.large[Alison Hill | rstudio::conf | 2019-01-12]

&lt;!-- this ends up being the title slide since seal = FALSE--&gt;

---

class: inverse, middle, center

# .fancy[Build a dashboard for [The Great British Bake Off](https://en.wikipedia.org/wiki/The_Great_British_Bake_Off)]

&lt;img src="https://thegreatbritishbakeoff.co.uk/wp-content/uploads/2018/09/TENT-BAKERS-1024x450.png" width="50%" style="display: block; margin: auto;" /&gt;


--

.pull-left[
### .fancy[.center[Local with GitHub]]
### .fancy[.center[üíª + &lt;i class="fab fa-github fa-lg fa-fw"&gt;&lt;/i&gt;]]
]

--

.pull-right[
### .fancy[.center[Cloud or Local (no GitHub)]]
### .fancy[.center[‚òÅÔ∏è | üíª]]
]




---
name: start-here
class: inverse, middle

.pull-left[
### .fancy[.center[Local with GitHub]]
### .fancy[.center[üíª + &lt;i class="fab fa-github fa-lg fa-fw"&gt;&lt;/i&gt;]]



1. Make a [repo on &lt;i class="fab fa-github fa-lg fa-fw"&gt;&lt;/i&gt;GitHub](https://happygitwithr.com/new-github-first.html#make-a-repo-on-github-1)

1. Make a [new RStudio project via git clone](https://happygitwithr.com/new-github-first.html#new-rstudio-project-via-git-clone) &lt;br&gt;
    *File &gt; New Project &gt; Version Control &gt; Git*

1. Run:


```r
library(blogdown)
new_site(theme = "jpescador/hugo-future-imperfect", 
         sample = TRUE, 
         theme_example = TRUE, 
         empty_dirs = TRUE,
         to_yaml = TRUE)
```

]

.pull-right[
### .fancy[.center[Cloud or Local]]
### .fancy[.center[‚òÅÔ∏è | üíª]]


1. Make a new RStudio project via wizard &lt;br&gt; 
    *File &gt; New Project &gt; New Directory*

1. Scroll down to select: &lt;br&gt;
    &lt;img src="https://discourse-cdn-sjc2.com/standard10/uploads/gohugo/original/2X/c/c2d3414c64e766d814100b32063948e604298a70.png" width="4%"&gt; *Website using blogdown*

&lt;img src="img/blogdown-workflow-wizard.png" width="80%" style="display: block; margin: auto;" /&gt;


]


???

if an exampleSite exists, it will be in themes/&lt;hugo-future-imperfect&gt;/exampleSite

---
## YAML header

    ---
    title: "Flex Dashboard"
    output: flexdashboard::flex_dashboard
    ---
    
    
---
## The Big Idea

- Use Markdown headings to describe the boxes and space division of your dashboard
    - Layout is implicit and automatic
    - Tweakable with custom attributes
- Content in your boxes fills the box automatically
- Supply gaps between R offerings and common dashboard components

---
name: block1
class: middle, center, inverse

# üç∞

# Layouts

.footnote[
https://bookdown.org/yihui/rmarkdown/layout.html
]
---
name: layouts-boxes

# Level three: boxes


    ### This is a box. 
    
    This is some text in the box.
  
![level three](level-three.png)

---
name: layouts-columns

# Level two: columns


    ## My first column
    
    ### My first box
    
    This is some text in a box.
    
    ## My second column
    
    ### My second box
    
    This is some slightly different text in a box.

---

# Level two: columns

![level two](level-two.png)

---
name: layouts-pages

# Level one: pages

    # Page one
    
    ### My first box
    
    This is some text in a box.
    
    # Page two
    
    ### My second box
    
    This is some slightly different text in a box.

---

# Level one: pages

![level one](level-one.png)

---
## Layout Recap:

- flexdashboards are composed of space-filling boxes created with level 3 headers (`###`)
- Boxes can be grouped into columns (or rows, or tabs) with level 2 headers (`##`)
- Pages can group other kinds of components
- Much more advanced layout is possible (see docs for details)

---
name: yourturn
background-image: url(img/joanna-kosinska-288950-unsplash.jpg)
background-size: cover
class: middle


# &lt;i class="fas fa-edit"&gt;&lt;/i&gt; .fancy[Your turn]


---
name: yourturn-1
template: yourturn


# .fancy[03:00 minutes]

## Make a new `flexdashboard` with some layouts like:

+ [Boxes](#layouts-boxes)

+  [Columns](#layouts-columns)

+ [Pages](#layouts-pages)



---
name: block2
class: middle, center, inverse

# üç∞

# Components

.footnote[
https://bookdown.org/yihui/rmarkdown/dashboard-components.html
]

---

## Plots and HTML widgets

- Any R graphics are supported
- Graphs and visualizations: the basic building blocks of most dashboards
- Contents automatically scaled to the size of the box
- HTML widgets can include interactivity 

---
## Plots and HTML widgets

    ### Iris data
    
    ```{r}
    qplot(Sepal.Length, Petal.Length, data = iris, color = Species)
    ```
    
    ### Birthplace of R

    ```{r}
    library(leaflet)
    m &lt;- leaflet() %&gt;%
      addTiles() %&gt;% 
      addMarkers(lng=174.768, lat=-36.852, popup="The birthplace of R")
    ```

---
## Plots and HTML widgets

![plots-and-widgets](plots-and-widgets.png)

---
## Value boxes


```r
library(flexdashboard)
articles &lt;- 204
valueBox(articles, 
         icon = "fa-pencil", 
         caption = "Articles per Day")
```

![valuebox](valuebox.png)

---
## Gauges
 

```r
satisfaction &lt;- 86
gauge(satisfaction, min = 0, max = 100, symbol = '%', 
  label = "Satisfaction", gaugeSectors(
  success = c(80, 100), warning = c(40, 79), danger = c(0, 39)
))
```

![gauge](gauge.png)

---
## Including Data: tabsets

    ## Column {.tabset}
     
    ### Chart 

    ```{r}
    qplot(Sepal.Length, Petal.Length, data = iris, color = Species) 
    ```
    
    ### Data
    
    ```{r}
    knitr::kable(iris)
    ```
    
---
## Including Data: Chart

![chart](tabset-chart.png)

---
## Including Data: Table

![chart](tabset-data.png)

---

{.tabset .tabset-dropdown}

```
# R Markdown {.tabset .tabset-dropdown}

## Tab A

This is an R Markdown document. 

## Tab B

When you click the **Knit** button a document will be generated.

## Tab C

Here is a summary table.


```r
summary(cars)
```

```
##      speed           dist       
##  Min.   : 4.0   Min.   :  2.00  
##  1st Qu.:12.0   1st Qu.: 26.00  
##  Median :15.0   Median : 36.00  
##  Mean   :15.4   Mean   : 42.98  
##  3rd Qu.:19.0   3rd Qu.: 56.00  
##  Max.   :25.0   Max.   :120.00
```
```

---
name: block3
class: middle, center, inverse

# üç∞

# Interactive Dashboards

.footnote[
https://bookdown.org/yihui/rmarkdown/interactive-documents.html#intro-widgets
]

---
## Interactivity with HTML widgets

- Simplest form of interactivity
- Static HTML; no special client or server requirements
    - Host anywhere, view anywhere
- Data must be fixed (can't run R code)
- Interaction within single widget only 
    - Most widgets don't talk to each other (yet)

---
## HTML widget interactivity


```r
library(dygraphs)
lungDeaths &lt;- cbind(mdeaths, fdeaths)
dygraph(lungDeaths) %&gt;% 
   dyRangeSelector()
```

---
## HTML widget interactivity 

<div id="htmlwidget-d789caf6d25a8e5e8e9f" style="width:80%;height:504px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-d789caf6d25a8e5e8e9f">{"x":{"attrs":{"labels":["month","mdeaths","fdeaths"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"showRangeSelector":true,"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel"},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["1974-01-01T00:00:00.000Z","1974-02-01T00:00:00.000Z","1974-03-01T00:00:00.000Z","1974-04-01T00:00:00.000Z","1974-05-01T00:00:00.000Z","1974-06-01T00:00:00.000Z","1974-07-01T00:00:00.000Z","1974-08-01T00:00:00.000Z","1974-09-01T00:00:00.000Z","1974-10-01T00:00:00.000Z","1974-11-01T00:00:00.000Z","1974-12-01T00:00:00.000Z","1975-01-01T00:00:00.000Z","1975-02-01T00:00:00.000Z","1975-03-01T00:00:00.000Z","1975-04-01T00:00:00.000Z","1975-05-01T00:00:00.000Z","1975-06-01T00:00:00.000Z","1975-07-01T00:00:00.000Z","1975-08-01T00:00:00.000Z","1975-09-01T00:00:00.000Z","1975-10-01T00:00:00.000Z","1975-11-01T00:00:00.000Z","1975-12-01T00:00:00.000Z","1976-01-01T00:00:00.000Z","1976-02-01T00:00:00.000Z","1976-03-01T00:00:00.000Z","1976-04-01T00:00:00.000Z","1976-05-01T00:00:00.000Z","1976-06-01T00:00:00.000Z","1976-07-01T00:00:00.000Z","1976-08-01T00:00:00.000Z","1976-09-01T00:00:00.000Z","1976-10-01T00:00:00.000Z","1976-11-01T00:00:00.000Z","1976-12-01T00:00:00.000Z","1977-01-01T00:00:00.000Z","1977-02-01T00:00:00.000Z","1977-03-01T00:00:00.000Z","1977-04-01T00:00:00.000Z","1977-05-01T00:00:00.000Z","1977-06-01T00:00:00.000Z","1977-07-01T00:00:00.000Z","1977-08-01T00:00:00.000Z","1977-09-01T00:00:00.000Z","1977-10-01T00:00:00.000Z","1977-11-01T00:00:00.000Z","1977-12-01T00:00:00.000Z","1978-01-01T00:00:00.000Z","1978-02-01T00:00:00.000Z","1978-03-01T00:00:00.000Z","1978-04-01T00:00:00.000Z","1978-05-01T00:00:00.000Z","1978-06-01T00:00:00.000Z","1978-07-01T00:00:00.000Z","1978-08-01T00:00:00.000Z","1978-09-01T00:00:00.000Z","1978-10-01T00:00:00.000Z","1978-11-01T00:00:00.000Z","1978-12-01T00:00:00.000Z","1979-01-01T00:00:00.000Z","1979-02-01T00:00:00.000Z","1979-03-01T00:00:00.000Z","1979-04-01T00:00:00.000Z","1979-05-01T00:00:00.000Z","1979-06-01T00:00:00.000Z","1979-07-01T00:00:00.000Z","1979-08-01T00:00:00.000Z","1979-09-01T00:00:00.000Z","1979-10-01T00:00:00.000Z","1979-11-01T00:00:00.000Z","1979-12-01T00:00:00.000Z"],[2134,1863,1877,1877,1492,1249,1280,1131,1209,1492,1621,1846,2103,2137,2153,1833,1403,1288,1186,1133,1053,1347,1545,2066,2020,2750,2283,1479,1189,1160,1113,970,999,1208,1467,2059,2240,1634,1722,1801,1246,1162,1087,1013,959,1179,1229,1655,2019,2284,1942,1423,1340,1187,1098,1004,970,1140,1110,1812,2263,1820,1846,1531,1215,1075,1056,975,940,1081,1294,1341],[901,689,827,677,522,406,441,393,387,582,578,666,830,752,785,664,467,438,421,412,343,440,531,771,767,1141,896,532,447,420,376,330,357,445,546,764,862,660,663,643,502,392,411,348,387,385,411,638,796,853,737,546,530,446,431,362,387,430,425,679,821,785,727,612,478,429,405,379,393,411,487,574]]},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>

---
## flexdashboard vs. shinydashboard

- Static host vs. Shiny Server (or shinyapps.io)
- Simplicity vs. complexity
- Constraints vs. flexibility

---
## Advanced topics

- Layout tweaking: adjust column widths/sizes
- Mobile friendliness
   - Largely automatic but can show/hide specifically
- Storyboards
- Navigation

---
# Wrap - up / Q &amp; A

---
## Links

    https://github.com/jmcphers/flexdashboard-talk

- [flexdashboard documentation](http://rmarkdown.rstudio.com/flexdashboard/)
- [HTML widget crosstalk](https://github.com/rstudio/crosstalk)
- [HTML widget showcase](http://www.htmlwidgets.org/showcase_leaflet.html)
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
